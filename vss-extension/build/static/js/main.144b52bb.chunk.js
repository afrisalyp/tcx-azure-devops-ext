(this["webpackJsonptopcoder-x"]=this["webpackJsonptopcoder-x"]||[]).push([[0],{101:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),i=a.n(c),l=(a(101),a(62),a(12)),o=a(51),s=a(167),u=a(180),d=a(175),m=a(171),p=a(178),f=a(174),b=a(169),g=a(170),v=a(166),h=a(168),E=a(162),S=a(179),w=a(165),j=a(183),O=a(130),y=a(44),x=a(72),k=a.n(x),P=a(73),N=function(){return new Promise((function(e){VSS.getService(VSS.ServiceIds.ExtensionData).then((function(t){t.getValue("token",{scopeType:"User"}).then((function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=D(e);if(null===a)return!1;return!(a.valueOf()>(new Date).valueOf()+1e3*t)}(t)&&alert("Token is expired. Please provide new token."),e(t)}))}))}))};function C(e){var t=e.split(".");if(3!==t.length)throw new Error("The token is invalid");var a=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}return decodeURIComponent(escape(atob(t)))}(t[1]);if(!a)throw new Error("Cannot decode the token");return JSON.parse(a)}function D(e){var t=C(e);if("undefined"===typeof t.exp)return null;var a=new Date(0);return a.setUTCSeconds(t.exp),a}var T=a.n(P).a.create({headers:{"Content-Type":"application/json"},timeout:2e4});T.interceptors.request.use((function(e){return N().then((function(t){return e.headers.Authorization="Bearer ".concat(t),e})).catch((function(e){console.error(e)}))}));var A="https://api.".concat("topcoder-dev.com"),I="".concat(A,"/v5/challenges");function V(e){return new Date(e).toLocaleDateString()}function B(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var R=[{id:"type",numeric:!1,disablePadding:!1,label:"Type"},{id:"name",numeric:!1,disablePadding:!1,label:"Title"},{id:"startDate",numeric:!1,disablePadding:!1,label:"Start Date"},{id:"endDate",numeric:!1,disablePadding:!1,label:"End Date"},{id:"state",numeric:!1,disablePadding:!1,label:"State"}];function U(e){var t=e.classes,a=e.order,n=e.orderBy,c=e.onRequestSort;return r.a.createElement(E.a,null,r.a.createElement(w.a,null,R.map((function(e){return r.a.createElement(v.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(j.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(i=e.id,function(e){c(e,i)})},e.label,n===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var i}))))}var W=Object(s.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},name:{width:300},type:{width:100},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var q=function(e){var t=e.status,a=W(),n=r.a.useState("asc"),c=Object(l.a)(n,2),i=c[0],o=c[1],s=r.a.useState("calories"),u=Object(l.a)(s,2),d=u[0],m=u[1],p=r.a.useState([]),f=Object(l.a)(p,2),E=f[0],j=f[1],x=r.a.useState(0),P=Object(l.a)(x,2),N=P[0],C=P[1],D=r.a.useState(10),A=Object(l.a)(D,2),R=A[0],q=A[1],H=r.a.useState([]),L=Object(l.a)(H,2),J=L[0],_=L[1],z={sortBy:"updated",sortOrder:"desc"};return z.status=t,r.a.useEffect((function(){(function(e,t){var a=Object(y.a)(Object(y.a)({},e),t);return T.get("".concat(I,"?").concat(k.a.stringify(a,{encode:!1})))})(z,{page:1,perPage:50}).then((function(e){_(e.data),console.log(JSON.stringify(e.data))})).catch((function(e){console.error(e)}))}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(O.a,{className:a.paper},r.a.createElement(h.a,null,r.a.createElement(b.a,{className:a.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},r.a.createElement(U,{classes:a,numSelected:E.length,order:i,orderBy:d,onRequestSort:function(e,t){o(d===t&&"asc"===i?"desc":"asc"),m(t)},rowCount:J.length}),r.a.createElement(g.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(J,function(e,t){return"desc"===e?function(e,a){return B(e,a,t)}:function(e,a){return-B(e,a,t)}}(i,d)).slice(N*R,N*R+R).map((function(e,t){var n,c="enhanced-table-checkbox-".concat(t);return r.a.createElement(w.a,{hover:!0,onClick:function(t){return function(e,t){var a=E.indexOf(t),n=[];-1===a?n=n.concat(E,t):0===a?n=n.concat(E.slice(1)):a===E.length-1?n=n.concat(E.slice(0,-1)):a>0&&(n=n.concat(E.slice(0,a),E.slice(a+1))),j(n)}(0,e.name)},tabIndex:-1},r.a.createElement(v.a,{component:"th",id:c,scope:"row",className:a.type},e.type),r.a.createElement(v.a,{align:"left",className:a.name},r.a.createElement("a",{href:(n=e.id,"https://www.topcoder-dev.com/challenges/".concat(n)),target:"_blank"},e.name)," "),r.a.createElement(v.a,{align:"left"},V(e.startDate)),r.a.createElement(v.a,{align:"left"},V(e.endDate)),r.a.createElement(v.a,{align:"left"},e.currentPhaseNames.join(", ")))}))))),r.a.createElement(S.a,{rowsPerPageOptions:[10,25,50],component:"div",count:J.length,rowsPerPage:R,page:N,onChangePage:function(e,t){C(t)},onChangeRowsPerPage:function(e){q(parseInt(e.target.value,10)),C(0)}})))};function H(e){var t=e.children,a=e.value,n=e.index,c=Object(o.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},c),a===n&&r.a.createElement(p.a,{p:3},r.a.createElement(m.a,null,t)))}function L(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var J=Object(s.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function _(){var e=J(),t=r.a.useState(0),a=Object(l.a)(t,2),n=a[0],c=a[1];return r.a.createElement("div",{className:e.root},r.a.createElement(f.a,{position:"static"},r.a.createElement(u.a,{value:n,onChange:function(e,t){c(t)},"aria-label":"simple tabs example"},r.a.createElement(d.a,Object.assign({label:"Active"},L(0))),r.a.createElement(d.a,Object.assign({label:"New"},L(1))),r.a.createElement(d.a,Object.assign({label:"Draft"},L(2))),r.a.createElement(d.a,Object.assign({label:"Completed"},L(3))))),r.a.createElement(H,{value:n,index:0},r.a.createElement(q,{status:"Active"})),r.a.createElement(H,{value:n,index:1},r.a.createElement(q,{status:"New"})),r.a.createElement(H,{value:n,index:2},r.a.createElement(q,{status:"Draft"})),r.a.createElement(H,{value:n,index:3},r.a.createElement(q,{status:"Completed"})))}var z=a(45),G=a.n(z),F=a(57),M=a(58),$=a.n(M),K=a(74),Q="https://api.".concat("topcoder-dev.com"),X="".concat(Q,"/v5/projects");function Y(){return(Y=Object(F.a)(G.a.mark((function e(t){var a,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(y.a)({},t),e.next=3,T.get("".concat(X,"?").concat(K.stringify(a)));case 3:return n=e.sent,e.abrupt("return",$.a.get(n,"data"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var ee=[{id:"name",numeric:!1,disablePadding:!1,label:"Title"},{id:"status",numeric:!1,disablePadding:!1,label:"Status"},{id:"lastActivityAt",numeric:!1,disablePadding:!1,label:"Last Update"},{id:"directProjectId",numeric:!1,disablePadding:!1,label:"Direct Project Id"}];function te(e){var t=e.classes,a=e.order,n=e.orderBy,c=e.onRequestSort;return r.a.createElement(E.a,null,r.a.createElement(w.a,null,ee.map((function(e){return r.a.createElement(v.a,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a},r.a.createElement(j.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(i=e.id,function(e){c(e,i)})},e.label,n===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var i}))))}var ae=Object(s.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},name:{width:300},type:{width:100},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));var ne=function(){var e=ae(),t=r.a.useState("asc"),a=Object(l.a)(t,2),n=a[0],c=a[1],i=r.a.useState("calories"),o=Object(l.a)(i,2),s=o[0],u=o[1],d=r.a.useState([]),m=Object(l.a)(d,2),p=m[0],f=m[1],E=r.a.useState(0),j=Object(l.a)(E,2),y=j[0],x=j[1],k=r.a.useState(10),P=Object(l.a)(k,2),N=P[0],C=P[1],D=r.a.useState([]),T=Object(l.a)(D,2),A=T[0],I=T[1];return r.a.useEffect((function(){var e={sort:"lastActivityAt desc",memberOnly:!1};(function(e){return Y.apply(this,arguments)})(e).then((function(e){console.log(e),I(e)})).catch((function(e){console.error(e)}))}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(O.a,{className:e.paper},r.a.createElement(h.a,null,r.a.createElement(b.a,{className:e.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table"},r.a.createElement(te,{classes:e,numSelected:p.length,order:n,orderBy:s,onRequestSort:function(e,t){c(s===t&&"asc"===n?"desc":"asc"),u(t)},rowCount:A.length}),r.a.createElement(g.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(A,function(e,t){return"desc"===e?function(e,a){return Z(e,a,t)}:function(e,a){return-Z(e,a,t)}}(n,s)).slice(y*N,y*N+N).map((function(t){return r.a.createElement(w.a,{hover:!0,onClick:function(e){return function(e,t){var a=p.indexOf(t),n=[];-1===a?n=n.concat(p,t):0===a?n=n.concat(p.slice(1)):a===p.length-1?n=n.concat(p.slice(0,-1)):a>0&&(n=n.concat(p.slice(0,a),p.slice(a+1))),f(n)}(0,t.name)},tabIndex:-1},r.a.createElement(v.a,{align:"left",className:e.name},r.a.createElement("a",{href:(n=t.id,"https://connect.topcoder-dev.com/projects/".concat(n)),target:"_blank"},t.name)," "),r.a.createElement(v.a,{align:"left"},t.status),r.a.createElement(v.a,{align:"left"},V(t.lastActivityAt)),r.a.createElement(v.a,{align:"left"},r.a.createElement("a",{href:(a=t.directProjectId,"https://www.topcoder-dev.com/direct/projectOverview.action?formData.projectId=".concat(a)),target:"_blank"},t.directProjectId)," "));var a,n}))))),r.a.createElement(S.a,{rowsPerPageOptions:[10,25,50],component:"div",count:A.length,rowsPerPage:N,page:y,onChangePage:function(e,t){x(t)},onChangeRowsPerPage:function(e){C(parseInt(e.target.value,10)),x(0)}})))},re=a(181),ce=a(176);function ie(e){var t=e.children,a=e.value,n=e.index,c=Object(o.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},c),a===n&&r.a.createElement(p.a,{p:3},r.a.createElement(m.a,null,t)))}function le(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var oe=Object(s.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:224},tabs:{borderRight:"1px solid ".concat(e.palette.divider)},tokenTextEdit:{width:500}}}));function se(){var e=oe(),t=r.a.useState(0),a=Object(l.a)(t,2),n=a[0],c=a[1],i=r.a.useState(""),o=Object(l.a)(i,2),s=o[0],m=o[1];return r.a.useEffect((function(){VSS.getService(VSS.ServiceIds.ExtensionData).then((function(e){e.getValue("token",{scopeType:"User"}).then((function(e){console.log("User scoped key value is "+e),m(e)}))}))}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{orientation:"vertical",variant:"scrollable",value:n,onChange:function(e,t){c(t)},"aria-label":"Vertical tabs example",className:e.tabs},r.a.createElement(d.a,Object.assign({label:"Login"},le(0))),r.a.createElement(d.a,Object.assign({label:"Projects"},le(1))),r.a.createElement(d.a,Object.assign({label:"Challenges"},le(2)))),r.a.createElement(ie,{value:n,index:0},r.a.createElement(re.a,{id:"filled-basic",label:"Token",variant:"filled",className:e.tokenTextEdit,value:s,onChange:function(e){m(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ce.a,{variant:"contained",color:"primary",onClick:function(){VSS.getService(VSS.ServiceIds.ExtensionData).then(function(e){e.setValue("token",this.token,{scopeType:"User"}).then((function(e){console.log("Set User scoped key value is "+e)}))}.bind({token:s}))}},"Save")),r.a.createElement(ie,{value:n,index:1},r.a.createElement(ne,null)),r.a.createElement(ie,{value:n,index:2},r.a.createElement(_,null)))}var ue=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(q,{status:"Active"}))};var de=function(){var e=new URLSearchParams(window.location.search);console.log(e);var t=e.get("context");return console.log(t),"widget"===t?r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"}),r.a.createElement(ue,null)):r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"}),r.a.createElement(se,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));VSS.init({explicitNotifyLoaded:!0}),VSS.require("TFS/Dashboards/WidgetHelpers",(function(e){VSS.register("tcx-widget",(function(){return{load:function(t){return e.WidgetStatusHelper.Success()}}}));var t={execute:function(e){alert("Work item sent.")}};VSS.register("tcx-workitem-send",t),VSS.notifyLoadSucceeded()})),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,a){},96:function(e,t,a){e.exports=a(128)}},[[96,1,2]]]);
//# sourceMappingURL=main.144b52bb.chunk.js.map